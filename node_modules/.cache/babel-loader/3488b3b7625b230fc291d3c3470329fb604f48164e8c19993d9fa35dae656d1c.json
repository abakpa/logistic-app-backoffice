{"ast":null,"code":"import { call, put, takeLatest } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { fetchOrderRequest, fetchOrderSuccess, fetchOrderFailure, fetchOrderByUserRequest, fetchOrderByUserSuccess, fetchOrderByUserFailure, fetchOrderForPickupRequest, fetchOrderForPickupSuccess, fetchOrderForPickupFailure, fetchDriverOrderSuccess, fetchDriverOrderFailure, fetchDriverOrderRequest, createOrderRequest, createOrderSuccess, createOrderFailure, fetchOrderByIdRequest, fetchOrderByIdSuccess, fetchOrderByIdFailure } from '../slices/orderSlice';\nfunction* fetchOrderSaga() {\n  try {\n    const response = yield call(axios.get, 'http://localhost:4000/api/orders');\n    yield put(fetchOrderSuccess(response.data));\n  } catch (error) {\n    yield put(fetchOrderFailure(error.response.data.message));\n  }\n}\nfunction* fetchOrderByUserSaga() {\n  try {\n    const token = localStorage.getItem('authToken');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = yield call(axios.get, 'http://localhost:4000/api/orders/user', config);\n    yield put(fetchOrderByUserSuccess(response.data));\n  } catch (error) {\n    yield put(fetchOrderByUserFailure(error.response.data.message));\n  }\n}\nfunction* fetchDriverOrderSaga() {\n  try {\n    const token = localStorage.getItem('authToken');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = yield call(axios.get, 'http://localhost:4000/api/orders/orderbydriver', config);\n    console.log;\n    yield put(fetchDriverOrderSuccess(response.data));\n  } catch (error) {\n    yield put(fetchDriverOrderFailure(error.response.data.message));\n  }\n}\nfunction* fetchOrderForPickupSaga() {\n  try {\n    const token = localStorage.getItem('authToken');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = yield call(axios.get, 'http://localhost:4000/api/orders/orderforpickup', config);\n    yield put(fetchOrderForPickupSuccess(response.data));\n  } catch (error) {\n    yield put(fetchOrderForPickupFailure(error.response.data.message));\n  }\n}\nfunction* createOrderSaga(action) {\n  const {\n    details,\n    navigate\n  } = action.payload;\n  try {\n    const token = localStorage.getItem('authToken');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = yield call(axios.post, 'http://localhost:4000/api/orders', details, config);\n    yield put(createOrderSuccess(response.data));\n    navigate('/Order');\n  } catch (error) {\n    yield put(createOrderFailure(error.response.data.message));\n  }\n}\nfunction* fetchOrderByIdSaga(action) {\n  const {\n    orderId,\n    navigate\n  } = action.payload;\n  console.log('check saga', action);\n  try {\n    const token = localStorage.getItem('authToken');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = yield call(axios.get, `http://localhost:4000/api/orders/${orderId}`, {}, config);\n    yield put(fetchOrderByIdSuccess(response.data));\n    navigate(`/singleorder/${orderId}`);\n  } catch (error) {\n    yield put(fetchOrderByIdFailure(error.response.data.message));\n  }\n}\nfunction* orderSaga() {\n  yield takeLatest(fetchOrderRequest.type, fetchOrderSaga);\n  yield takeLatest(fetchDriverOrderRequest.type, fetchDriverOrderSaga);\n  yield takeLatest(fetchOrderForPickupRequest.type, fetchOrderForPickupSaga);\n  yield takeLatest(fetchOrderByUserRequest.type, fetchOrderByUserSaga);\n  yield takeLatest(createOrderRequest.type, createOrderSaga);\n  yield takeLatest(fetchOrderByIdRequest.type, fetchOrderByIdSaga);\n}\nexport default orderSaga;","map":{"version":3,"names":["call","put","takeLatest","axios","fetchOrderRequest","fetchOrderSuccess","fetchOrderFailure","fetchOrderByUserRequest","fetchOrderByUserSuccess","fetchOrderByUserFailure","fetchOrderForPickupRequest","fetchOrderForPickupSuccess","fetchOrderForPickupFailure","fetchDriverOrderSuccess","fetchDriverOrderFailure","fetchDriverOrderRequest","createOrderRequest","createOrderSuccess","createOrderFailure","fetchOrderByIdRequest","fetchOrderByIdSuccess","fetchOrderByIdFailure","fetchOrderSaga","response","get","data","error","message","fetchOrderByUserSaga","token","localStorage","getItem","config","headers","Authorization","fetchDriverOrderSaga","console","log","fetchOrderForPickupSaga","createOrderSaga","action","details","navigate","payload","post","fetchOrderByIdSaga","orderId","orderSaga","type"],"sources":["/Users/josephabakpa/Documents/CODES/LOGISTIC APP/back-office/src/redux/sagas/orderSaga.js"],"sourcesContent":["import {call, put, takeLatest} from 'redux-saga/effects'\nimport axios from 'axios'\nimport {\n    fetchOrderRequest,\n    fetchOrderSuccess,\n    fetchOrderFailure,\n    fetchOrderByUserRequest,\n    fetchOrderByUserSuccess,\n    fetchOrderByUserFailure,\n    fetchOrderForPickupRequest,\n    fetchOrderForPickupSuccess,\n    fetchOrderForPickupFailure,\n    fetchDriverOrderSuccess,\n    fetchDriverOrderFailure,\n    fetchDriverOrderRequest,\n    createOrderRequest,\n    createOrderSuccess,\n    createOrderFailure,\n    fetchOrderByIdRequest,\n    fetchOrderByIdSuccess,\n    fetchOrderByIdFailure\n} from '../slices/orderSlice'\n\n function* fetchOrderSaga(){\n    try {\n    \n        const response = yield call(axios.get, 'http://localhost:4000/api/orders')\n        yield put(fetchOrderSuccess(response.data))\n    } catch (error) {\n        yield put(fetchOrderFailure(error.response.data.message))\n    }\n}\n function* fetchOrderByUserSaga(){\n    try {\n        const token = localStorage.getItem('authToken');\n        const config = {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }\n        const response = yield call(axios.get, 'http://localhost:4000/api/orders/user',config)\n        yield put(fetchOrderByUserSuccess(response.data))\n    } catch (error) {\n        yield put(fetchOrderByUserFailure(error.response.data.message))\n    }\n}\n function* fetchDriverOrderSaga(){\n    try {\n        const token = localStorage.getItem('authToken');\n        const config = {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }\n        const response = yield call(axios.get, 'http://localhost:4000/api/orders/orderbydriver',config)\n        console.log\n        yield put(fetchDriverOrderSuccess(response.data))\n    } catch (error) {\n        yield put(fetchDriverOrderFailure(error.response.data.message))\n    }\n}\n function* fetchOrderForPickupSaga(){\n    try {\n        const token = localStorage.getItem('authToken');\n        const config = {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }\n        const response = yield call(axios.get, 'http://localhost:4000/api/orders/orderforpickup',config)\n        yield put(fetchOrderForPickupSuccess(response.data))\n    } catch (error) {\n        yield put(fetchOrderForPickupFailure(error.response.data.message))\n    }\n}\nfunction* createOrderSaga(action){\n    const {details,navigate} = action.payload\n    try {\n      \n        const token = localStorage.getItem('authToken');\n        const config = {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }\n        const response = yield call(axios.post,'http://localhost:4000/api/orders', details,config);\n        yield put(createOrderSuccess(response.data))\n        navigate('/Order')\n    } catch (error) {\n        yield put(createOrderFailure(error.response.data.message))\n    }\n}\nfunction* fetchOrderByIdSaga(action){\n    const {orderId,navigate} = action.payload\n    console.log('check saga',action)\n   try {\n       const token = localStorage.getItem('authToken');\n       const config = {\n           headers: {\n               Authorization: `Bearer ${token}`\n           }\n       }\n       const response = yield call(axios.get, `http://localhost:4000/api/orders/${orderId}`,{},config)\n       yield put(fetchOrderByIdSuccess(response.data))\n       navigate(`/singleorder/${orderId}`)\n   } catch (error) {\n       yield put(fetchOrderByIdFailure(error.response.data.message))\n   }\n}\nfunction* orderSaga(){\n    yield takeLatest(fetchOrderRequest.type, fetchOrderSaga)\n    yield takeLatest(fetchDriverOrderRequest.type, fetchDriverOrderSaga)\n    yield takeLatest(fetchOrderForPickupRequest.type, fetchOrderForPickupSaga)\n    yield takeLatest(fetchOrderByUserRequest.type, fetchOrderByUserSaga)\n    yield takeLatest(createOrderRequest.type, createOrderSaga)\n    yield takeLatest(fetchOrderByIdRequest.type, fetchOrderByIdSaga)\n}\n\nexport default orderSaga"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}