{"ast":null,"code":"import { call, put, takeLatest } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { fetchDispatchRequest, fetchDispatchSuccess, fetchDispatchFailure, createDispatchRequest, createDispatchSuccess, createDispatchFailure } from '../slices/dispatchSlice';\nfunction* fetchDispatchSaga() {\n  try {\n    const response = yield call(axios.get, 'http://localhost:4000/api/dispatch');\n    yield put(fetchDispatchSuccess(response.data));\n  } catch (error) {\n    yield put(fetchDispatchFailure(error.response.data.message));\n  }\n}\nfunction* createDispatchSaga(action) {\n  const {\n    details,\n    navigate\n  } = action.payload;\n  console.log(\"KKKK\", details.order);\n  try {\n    const token = localStorage.getItem('authToken');\n    const userId = localStorage.getItem('userId');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = yield call(axios.post, 'http://localhost:4000/api/dispatch/${details}', userId, config);\n    yield put(createDispatchSuccess(response.data));\n    navigate('/Order');\n  } catch (error) {\n    yield put(createDispatchFailure(error.response.data.message));\n  }\n}\nfunction* dispatchSaga() {\n  yield takeLatest(fetchDispatchRequest.type, fetchDispatchSaga);\n  yield takeLatest(createDispatchRequest.type, createDispatchSaga);\n}\nexport default dispatchSaga;","map":{"version":3,"names":["call","put","takeLatest","axios","fetchDispatchRequest","fetchDispatchSuccess","fetchDispatchFailure","createDispatchRequest","createDispatchSuccess","createDispatchFailure","fetchDispatchSaga","response","get","data","error","message","createDispatchSaga","action","details","navigate","payload","console","log","order","token","localStorage","getItem","userId","config","headers","Authorization","post","dispatchSaga","type"],"sources":["/Users/josephabakpa/Documents/CODES/LOGISTIC APP/front-end/src/redux/sagas/dispatchSaga.js"],"sourcesContent":["import {call, put, takeLatest} from 'redux-saga/effects'\nimport axios from 'axios'\nimport {fetchDispatchRequest,fetchDispatchSuccess,fetchDispatchFailure,createDispatchRequest,createDispatchSuccess,createDispatchFailure} from '../slices/dispatchSlice'\n\n function* fetchDispatchSaga(){\n    try {\n       \n        const response = yield call(axios.get, 'http://localhost:4000/api/dispatch')\n        yield put(fetchDispatchSuccess(response.data))\n    } catch (error) {\n        yield put(fetchDispatchFailure(error.response.data.message))\n    }\n}\nfunction* createDispatchSaga(action){\n    const {details,navigate} = action.payload\n    console.log(\"KKKK\",details.order)\n    try {\n      \n        const token = localStorage.getItem('authToken');\n        const userId = localStorage.getItem('userId');\n        const config = {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }\n        const response = yield call(axios.post,'http://localhost:4000/api/dispatch/${details}', userId,config);\n        yield put(createDispatchSuccess(response.data))\n        navigate('/Order')\n    } catch (error) {\n        yield put(createDispatchFailure(error.response.data.message))\n    }\n}\n\nfunction* dispatchSaga(){\n    yield takeLatest(fetchDispatchRequest.type, fetchDispatchSaga)\n    yield takeLatest(createDispatchRequest.type, createDispatchSaga)\n}\n\nexport default dispatchSaga"],"mappings":"AAAA,SAAQA,IAAI,EAAEC,GAAG,EAAEC,UAAU,QAAO,oBAAoB;AACxD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,oBAAoB,EAACC,oBAAoB,EAACC,oBAAoB,EAACC,qBAAqB,EAACC,qBAAqB,EAACC,qBAAqB,QAAO,yBAAyB;AAEvK,UAAUC,iBAAiBA,CAAA,EAAE;EAC1B,IAAI;IAEA,MAAMC,QAAQ,GAAG,MAAMX,IAAI,CAACG,KAAK,CAACS,GAAG,EAAE,oCAAoC,CAAC;IAC5E,MAAMX,GAAG,CAACI,oBAAoB,CAACM,QAAQ,CAACE,IAAI,CAAC,CAAC;EAClD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMb,GAAG,CAACK,oBAAoB,CAACQ,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACE,OAAO,CAAC,CAAC;EAChE;AACJ;AACA,UAAUC,kBAAkBA,CAACC,MAAM,EAAC;EAChC,MAAM;IAACC,OAAO;IAACC;EAAQ,CAAC,GAAGF,MAAM,CAACG,OAAO;EACzCC,OAAO,CAACC,GAAG,CAAC,MAAM,EAACJ,OAAO,CAACK,KAAK,CAAC;EACjC,IAAI;IAEA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC/C,MAAMC,MAAM,GAAGF,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC7C,MAAME,MAAM,GAAG;MACXC,OAAO,EAAE;QACLC,aAAa,EAAE,UAAUN,KAAK;MAClC;IACJ,CAAC;IACD,MAAMb,QAAQ,GAAG,MAAMX,IAAI,CAACG,KAAK,CAAC4B,IAAI,EAAC,+CAA+C,EAAEJ,MAAM,EAACC,MAAM,CAAC;IACtG,MAAM3B,GAAG,CAACO,qBAAqB,CAACG,QAAQ,CAACE,IAAI,CAAC,CAAC;IAC/CM,QAAQ,CAAC,QAAQ,CAAC;EACtB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZ,MAAMb,GAAG,CAACQ,qBAAqB,CAACK,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACE,OAAO,CAAC,CAAC;EACjE;AACJ;AAEA,UAAUiB,YAAYA,CAAA,EAAE;EACpB,MAAM9B,UAAU,CAACE,oBAAoB,CAAC6B,IAAI,EAAEvB,iBAAiB,CAAC;EAC9D,MAAMR,UAAU,CAACK,qBAAqB,CAAC0B,IAAI,EAAEjB,kBAAkB,CAAC;AACpE;AAEA,eAAegB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}