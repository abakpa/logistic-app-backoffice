{"ast":null,"code":"import { call, put, takeLatest } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { fetchAdminsRequest, fetchAdminsSuccess, fetchAdminsFailure, createAdminRequest, createAdminSuccess, createAdminFailure } from '../slices/adminSlice';\nfunction* fetchAdminsSaga() {\n  try {\n    const response = yield call(axios.get, 'http://localhost:4000/api/admin');\n    console.log('admin', response.data);\n    yield put(fetchAdminsSuccess(response.data));\n  } catch (error) {\n    yield put(fetchAdminsFailure(error.response));\n  }\n}\nfunction* createAdminSaga(action) {\n  const {\n    details,\n    navigate\n  } = action.payload;\n  try {\n    const response = yield call(axios.post, 'http://localhost:4000/api/admin', details);\n    console.log(response);\n    yield put(createAdminSuccess(response.data));\n    navigate('/admins');\n  } catch (error) {\n    yield put(createAdminFailure(error.message));\n  }\n}\nfunction* adminSaga() {\n  yield takeLatest(fetchAdminsRequest.type, fetchAdminsSaga);\n  yield takeLatest(createAdminRequest.type, createAdminSaga);\n}\nexport default adminSaga;","map":{"version":3,"names":["call","put","takeLatest","axios","fetchAdminsRequest","fetchAdminsSuccess","fetchAdminsFailure","createAdminRequest","createAdminSuccess","createAdminFailure","fetchAdminsSaga","response","get","console","log","data","error","createAdminSaga","action","details","navigate","payload","post","message","adminSaga","type"],"sources":["/Users/josephabakpa/Documents/CODES/LOGISTIC APP/back-office/src/redux/sagas/adminSaga.js"],"sourcesContent":["import {call, put, takeLatest} from 'redux-saga/effects'\nimport axios from 'axios'\nimport {\n    fetchAdminsRequest,\n    fetchAdminsSuccess,\n    fetchAdminsFailure,\n    createAdminRequest,\n    createAdminSuccess,\n    createAdminFailure\n} from '../slices/adminSlice'\n\nfunction* fetchAdminsSaga(){\n    try {\n        const response = yield call(axios.get, 'http://localhost:4000/api/admin');\n        console.log('admin',response.data)\n        yield put(fetchAdminsSuccess(response.data))\n    } catch (error) {\n        yield put(fetchAdminsFailure(error.response))\n    }\n}\nfunction* createAdminSaga(action){\n    const {details,navigate} = action.payload\n    try {\n        const response = yield call(axios.post,'http://localhost:4000/api/admin', details);\n        console.log(response)\n        yield put(createAdminSuccess(response.data))\n        navigate('/admins')\n    } catch (error) {\n        yield put(createAdminFailure(error.message))\n    }\n}\nfunction* adminSaga(){\n    yield takeLatest(fetchAdminsRequest.type, fetchAdminsSaga)\n    yield takeLatest(createAdminRequest.type, createAdminSaga)\n}\n\nexport default adminSaga"],"mappings":"AAAA,SAAQA,IAAI,EAAEC,GAAG,EAAEC,UAAU,QAAO,oBAAoB;AACxD,OAAOC,KAAK,MAAM,OAAO;AACzB,SACIC,kBAAkB,EAClBC,kBAAkB,EAClBC,kBAAkB,EAClBC,kBAAkB,EAClBC,kBAAkB,EAClBC,kBAAkB,QACf,sBAAsB;AAE7B,UAAUC,eAAeA,CAAA,EAAE;EACvB,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMX,IAAI,CAACG,KAAK,CAACS,GAAG,EAAE,iCAAiC,CAAC;IACzEC,OAAO,CAACC,GAAG,CAAC,OAAO,EAACH,QAAQ,CAACI,IAAI,CAAC;IAClC,MAAMd,GAAG,CAACI,kBAAkB,CAACM,QAAQ,CAACI,IAAI,CAAC,CAAC;EAChD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMf,GAAG,CAACK,kBAAkB,CAACU,KAAK,CAACL,QAAQ,CAAC,CAAC;EACjD;AACJ;AACA,UAAUM,eAAeA,CAACC,MAAM,EAAC;EAC7B,MAAM;IAACC,OAAO;IAACC;EAAQ,CAAC,GAAGF,MAAM,CAACG,OAAO;EACzC,IAAI;IACA,MAAMV,QAAQ,GAAG,MAAMX,IAAI,CAACG,KAAK,CAACmB,IAAI,EAAC,iCAAiC,EAAEH,OAAO,CAAC;IAClFN,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACrB,MAAMV,GAAG,CAACO,kBAAkB,CAACG,QAAQ,CAACI,IAAI,CAAC,CAAC;IAC5CK,QAAQ,CAAC,SAAS,CAAC;EACvB,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZ,MAAMf,GAAG,CAACQ,kBAAkB,CAACO,KAAK,CAACO,OAAO,CAAC,CAAC;EAChD;AACJ;AACA,UAAUC,SAASA,CAAA,EAAE;EACjB,MAAMtB,UAAU,CAACE,kBAAkB,CAACqB,IAAI,EAAEf,eAAe,CAAC;EAC1D,MAAMR,UAAU,CAACK,kBAAkB,CAACkB,IAAI,EAAER,eAAe,CAAC;AAC9D;AAEA,eAAeO,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}