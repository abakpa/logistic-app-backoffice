{"ast":null,"code":"import { call, put, takeLatest } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { loginRequest, loginSuccess, loginFailure } from '../slices/authSlice';\nfunction* loginSaga(action) {\n  const {\n    credentials,\n    navigate\n  } = action.payload;\n  try {\n    const response = yield call(axios.post, 'http://localhost:4000/api/login', credentials);\n    const {\n      token\n    } = response.data;\n    localStorage.setItem('authToken', token);\n    yield put(loginSuccess(response.data));\n    navigate('/Users');\n  } catch (error) {\n    yield put(loginFailure(error.message));\n  }\n}\nfunction* authSaga() {\n  yield takeLatest(loginRequest.type, loginSaga);\n}\nexport default authSaga;","map":{"version":3,"names":["call","put","takeLatest","axios","loginRequest","loginSuccess","loginFailure","loginSaga","action","credentials","navigate","payload","response","post","token","data","localStorage","setItem","error","message","authSaga","type"],"sources":["/Users/josephabakpa/Documents/CODES/LOGISTIC APP/front-end/src/redux/sagas/authSaga.js"],"sourcesContent":["import {call, put, takeLatest} from 'redux-saga/effects';\nimport axios from 'axios';\nimport {loginRequest, loginSuccess, loginFailure} from '../slices/authSlice';\n\nfunction* loginSaga(action){\n    const {credentials,navigate} = action.payload\n    try {\n        const response = yield call(axios.post,'http://localhost:4000/api/login', credentials);\n        const { token } = response.data;\n        localStorage.setItem('authToken', token);\n        yield put(loginSuccess(response.data))\n        navigate('/Users')\n    } catch (error) {\n        yield put(loginFailure(error.message))\n    }\n}\n\nfunction* authSaga(){\n    yield takeLatest(loginRequest.type, loginSaga)\n}\n\nexport default authSaga;"],"mappings":"AAAA,SAAQA,IAAI,EAAEC,GAAG,EAAEC,UAAU,QAAO,oBAAoB;AACxD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,YAAY,EAAEC,YAAY,EAAEC,YAAY,QAAO,qBAAqB;AAE5E,UAAUC,SAASA,CAACC,MAAM,EAAC;EACvB,MAAM;IAACC,WAAW;IAACC;EAAQ,CAAC,GAAGF,MAAM,CAACG,OAAO;EAC7C,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMZ,IAAI,CAACG,KAAK,CAACU,IAAI,EAAC,iCAAiC,EAAEJ,WAAW,CAAC;IACtF,MAAM;MAAEK;IAAM,CAAC,GAAGF,QAAQ,CAACG,IAAI;IAC/BC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEH,KAAK,CAAC;IACxC,MAAMb,GAAG,CAACI,YAAY,CAACO,QAAQ,CAACG,IAAI,CAAC,CAAC;IACtCL,QAAQ,CAAC,QAAQ,CAAC;EACtB,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACZ,MAAMjB,GAAG,CAACK,YAAY,CAACY,KAAK,CAACC,OAAO,CAAC,CAAC;EAC1C;AACJ;AAEA,UAAUC,QAAQA,CAAA,EAAE;EAChB,MAAMlB,UAAU,CAACE,YAAY,CAACiB,IAAI,EAAEd,SAAS,CAAC;AAClD;AAEA,eAAea,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}